<div class="work-exp-dialog-container">
  <h2 mat-dialog-title class="dialog-title">{{ editMode ? 'Edit' : 'Add' }} Work Experience</h2>

  <mat-dialog-content>
    <form [formGroup]="workExperienceForm" class="work-exp-form">
      <mat-form-field appearance="outline">
        <mat-label>Company Name</mat-label>
        <input matInput formControlName="companyName" placeholder="e.g., Google" required>
        <mat-error *ngIf="workExperienceForm.get('companyName')?.hasError('required')">
          Company name is required.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Position / Title</mat-label>
        <input matInput formControlName="position" placeholder="e.g., Software Engineering Intern" required>
        <mat-error *ngIf="workExperienceForm.get('position')?.hasError('required')">
          Position is required.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Location / Address</mat-label>
        <input matInput formControlName="address" placeholder="e.g., Mountain View, CA">
        <!-- Address was required in original, making it not required here based on common use cases, but can be changed -->
         <mat-error *ngIf="workExperienceForm.get('address')?.hasError('required')">
          Address is required.
        </mat-error>
      </mat-form-field>

      <div class="date-fields-row">
        <mat-form-field appearance="outline" class="date-field">
          <mat-label>Start Date</mat-label>
          <input matInput formControlName="startDate" type="date" required>
          <mat-error *ngIf="workExperienceForm.get('startDate')?.hasError('required')">
            Start date is required.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="date-field">
          <mat-label>End Date</mat-label>
          <input matInput formControlName="endDate" type="date">
          <mat-hint>Leave blank if current</mat-hint>
          <!-- Add custom validator for endDate after startDate if needed -->
        </mat-form-field>
      </div>

      <mat-form-field appearance="outline" class="description-field">
        <mat-label>Description (Optional)</mat-label>
        <textarea matInput formControlName="description"
                  cdkTextareaAutosize
                  #autosize="cdkTextareaAutosize"
                  cdkAutosizeMinRows="3"
                  cdkAutosizeMaxRows="6"
                  placeholder="Describe your role and responsibilities..."></textarea>
      </mat-form-field>
    </form>
  </mat-dialog-content>

  <mat-dialog-actions class="dialog-actions">
    <app-custom-button type="default" (buttonClick)="cancel()">Cancel</app-custom-button>
    <app-custom-button type="primary" (buttonClick)="submit()" [disabled]="workExperienceForm.invalid">
      {{ editMode ? 'Save Changes' : 'Add Experience' }}
    </app-custom-button>
  </mat-dialog-actions>
</div>