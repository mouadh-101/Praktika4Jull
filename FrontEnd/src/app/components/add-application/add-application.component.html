<div class="add-application-container">
  <h2 class="form-title">{{ editMode ? 'Edit' : 'Add New' }} Application</h2>

  <app-warning-banner *ngIf="!editMode">
    The information in your resume will be shared with the company and may be analyzed by AI.
    Please double-check your inputs before submitting.
  </app-warning-banner>

  <form [formGroup]="applicationForm" (ngSubmit)="submit()">
    <div class="form-section">
      <div class="form-field">
        <label for="coverLetter">Cover Letter <span class="required-asterisk">*</span></label>
        <textarea
          id="coverLetter"
          formControlName="coverLetter"
          rows="6"
          placeholder="Write your compelling cover letter here..."
          required>
        </textarea>
        <!-- TODO: Add validation messages, e.g., for required fields -->
      </div>

      <div class="form-field" *ngIf="editMode">
        <label for="status">Status <span class="required-asterisk">*</span></label>
        <select id="status" formControlName="status">
          <option value="PENDING">Pending</option>
          <option value="ACCEPTED">Accepted</option>
          <option value="REJECTED">Rejected</option>
        </select>
      </div>
    </div>

    <div class="form-actions">
      <app-custom-button type="default" (buttonClick)="cancel()">Cancel</app-custom-button>
      <app-custom-button type="primary" [disabled]="applicationForm.invalid" (buttonClick)="submit()">
        {{ editMode ? 'Save Changes' : 'Submit Application' }}
      </app-custom-button>
    </div>
  </form>
</div>
