<div class="update-journal-page">
  <div class="container my-5">
    <app-info-card cardTitle="Update Journal Entry" customClass="update-journal-card">
      <form (ngSubmit)="onSubmit()" #journalFormInstance="ngForm" class="update-journal-form">

        <div class="form-field">
          <label for="tache">Task / Entry Title <span class="required-asterisk">*</span></label>
          <input
            type="text"
            id="tache"
            name="tache"
            [(ngModel)]="journal.tache"
            class="form-control"
            placeholder="e.g., Corrected database schema, Followed up with client"
            required
            #tacheInput="ngModel"
          />
          <div *ngIf="tacheInput.invalid && (tacheInput.dirty || tacheInput.touched)" class="error-text">
            <span *ngIf="tacheInput.errors?.['required']">Task title is required.</span>
          </div>
        </div>

        <div class="form-field">
          <label for="dateJournal">Date <span class="required-asterisk">*</span></label>
          <input
            type="date"
            id="dateJournal"
            name="dateJournal"
            [ngModel]="journal.dateJournal | date:'yyyy-MM-dd'" (ngModelChange)="journal.dateJournal = $event"
            class="form-control"
            required
            #dateJournalInput="ngModel"
          />
          <div *ngIf="dateJournalInput.invalid && (dateJournalInput.dirty || dateJournalInput.touched)" class="error-text">
            <span *ngIf="dateJournalInput.errors?.['required']">Date is required.</span>
          </div>
        </div>

        <!-- If a longer description field is needed for the journal entry:
        <div class="form-field">
          <label for="description">Description / Notes</label>
          <textarea
            id="description"
            name="description"
            [(ngModel)]="journal.description"
            class="form-control"
            rows="4"
            placeholder="Add any additional notes or details about this journal entry..."></textarea>
        </div>
        -->

        <div class="form-actions">
          <app-custom-button type="default" (buttonClick)="goBackToListJournals()">
            Cancel
          </app-custom-button>
          <app-custom-button type="primary" (buttonClick)="onSubmit()" [disabled]="!journalFormInstance.form.valid">
            Update Entry
          </app-custom-button>
        </div>
      </form>
    </app-info-card>
  </div>
</div>
